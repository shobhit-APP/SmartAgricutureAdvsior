# Community module properties
# File upload settings
community.upload.dir=${user.home}/agriconnect/uploads/community
community.upload.max-file-size=10MB
community.upload.max-request-size=20MB

# Allowed content types (comma separated)
community.upload.allowed-types=image/jpeg,image/png,video/mp4

# Cropreport evaluator defaults
cropreport.evaluator.moisture.threshold=30.0
cropreport.evaluator.ph.min=5.5
cropreport.evaluator.ph.max=7.5
cropreport.evaluator.nitrogen.min=0.1
cropreport.evaluator.phosphorus.min=0.1

# Storage settings
community.storage.type=local
community.storage.local.path=${community.upload.dir}

# Logging
logging.level.com.smartagriculture.community=INFO

# Feature toggles
community.features.enable-cropreport=true
community.features.enable-blog=true
community.features.enable-video=true

# Pagination defaults
community.default.page-size=10
community.default.max-page-size=50

# Misc
community.date.format=yyyy-MM-dd'T'HH:mm:ss

# Database (use same DB as other modules)

# Datasource - use environment variables for secrets
spring.datasource.url=${COMMUNITY_DATASOURCE_URL:jdbc:mysql://localhost:3306/shobhitdatabase}
spring.datasource.driver-class-name=${COMMUNITY_DATASOURCE_DRIVER:com.mysql.cj.jdbc.Driver}
spring.datasource.username=${COMMUNITY_DATASOURCE_USERNAME:root}
spring.datasource.password=${COMMUNITY_DATASOURCE_PASSWORD:}
spring.jpa.hibernate.ddl-auto=${COMMUNITY_JPA_DDL:auto}

# Cloudinary - read keys from environment variables
cloudinary.cloud.name=${CLOUDINARY_CLOUD_NAME:}
cloudinary.api.key=${CLOUDINARY_API_KEY:}
cloudinary.api.secret=${CLOUDINARY_API_SECRET:}

# Multipart / file upload global settings (increased to allow video uploads)
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB

# Video upload settings
community.video.upload.dir=${community.upload.dir}/videos
community.video.max-file-size=100MB
community.video.allowed-types=video/mp4,video/mpeg,video/quicktime

# Cloudinary-specific settings for community module
community.cloudinary.folder=community_uploads
community.cloudinary.resource_type=auto

# Option: store the logical upload path reference in DB (application uses this key)
community.upload.db-field=upload_path
